# Sprint Manifest: Core Skills

> Generated: 2026-02-25
> Status: **Active**
> Started: 2026-02-25
> Hydrated: 2026-02-25
> Repository: lando-labs/cami-plugin

## Overview

- **Branch**: sprint/v1.0.0-beta.1-core-skills
- **Target Version**: v1.0.0-alpha.1 → v1.0.0-beta.1 (MINOR)
- **Focus Area**: Core skills for capability and source management
- **Estimated Scope**: Large (2-3 sessions)

## Issues Addressed

### Must Complete
- [ ] #3: Create manage-capabilities skill (priority:high)
- [ ] #4: Create manage-sources skill (priority:high)

### Nice to Have
- [ ] #14: Implement tech stack auto-discovery (priority:medium)

## Acceptance Criteria

### manage-capabilities (#3)
- [ ] `skills/manage-capabilities/SKILL.md` created with voice preamble
- [ ] Location-aware behavior (all 4 modes)
- [ ] List capabilities from configured sources
- [ ] Deploy capabilities with manifest tracking
- [ ] Scan capabilities with version comparison
- [ ] Import from external projects
- [ ] Discover Claude Code projects
- [ ] Handoffs to manage-sources and create-agent
- [ ] Uses scout voice consistently

### manage-sources (#4)
- [ ] `skills/manage-sources/SKILL.md` created with voice preamble
- [ ] Location-aware behavior (all 4 modes)
- [ ] Add source with auto-compliance check
- [ ] Update sources (git pull) with compliance check
- [ ] List sources with capability counts
- [ ] Source status workflow
- [ ] Reconcile sources (config vs filesystem)
- [ ] Official guilds reference doc
- [ ] Handoffs to manage-capabilities and create-agent
- [ ] Uses scout voice consistently

## File Scope

### Files to Create
- `skills/manage-capabilities/SKILL.md` - Capability management skill
- `skills/manage-sources/SKILL.md` - Source management skill
- `skills/manage-sources/references/official-guilds.md` - Guild reference

### Files to Update
- None (greenfield skills)

## Dependencies

- Sprint 1 complete ✓ (cami entry skill routes to these)
- Voice references exist ✓ (`reference/voice/`)

## Parallel Work Considerations

### Sprint Scope (Implementation Works Here)
- `skills/manage-capabilities/`
- `skills/manage-sources/`

### Protected Areas
- `skills/cami/` - Entry skill (complete)
- `reference/` - Voice and config docs (complete)
- `README.md` - User documentation (complete)

## Git Workflow

- **Branch from**: main
- **Branch name**: sprint/v1.0.0-beta.1-core-skills
- **Commit prefix**: [skills]
- **PR template**: Standard with sprint checklist

### Commit Strategy
```
[skills] feat: create manage-capabilities skill (Refs: #3)
[skills] feat: create manage-sources skill (Refs: #4)
```

## Rollback Plan

- Each skill is independent
- Can revert individual commits without affecting others
- Entry skill (cami) continues to work without these skills

---

## Full Issue Details

> Hydrated on: 2026-02-25
> Source: GitHub Issues

---

### Issue #3: Create manage-capabilities skill (agents + skills)

**Labels**: `skill`, `priority:high`
**State**: Open

#### Description

Create the manage-capabilities skill for listing, deploying, scanning, and managing both agents and skills.

**Key insight**: Agents and skills are both "capabilities" you add to a project:
- **Agents** = Methodology experts (judgment, decisions)
- **Skills** = Implementation patterns (workflows, syntax)

This skill handles both uniformly.

#### Skill Structure

```
skills/manage-capabilities/
├── SKILL.md
└── references/
    ├── agent-format.md
    ├── skill-format.md
    └── capability-types.md
```

#### Preamble (Required)

```markdown
## Voice
Read and embody: `reference/voice/scout-persona.md`

## Location Awareness
Apply: `reference/voice/location-protocol.md`
```

#### Frontmatter

```yaml
---
name: manage-capabilities
description: Deploy, scan, and manage agents and skills. Use for "deploy X", "list agents", "check for updates", "import agents".
---
```

#### Triggers
- "deploy [agent-name]" / "add [agent-name]"
- "list agents" / "show agents" / "what agents are available"
- "scan my capabilities" / "check for updates"
- "update agents"
- "import agents from [project]"
- "find my Claude Code projects"
- "track this project" / "list my projects"

#### Location-Specific Behavior

| Location | Behavior |
|----------|----------|
| **Workspace** | List from all sources. For deploy: "Which project?" |
| **Project** | Show deployed AND available. Deploy to THIS project. |
| **Initialization** | Offer to set up CAMI first, then deploy. |
| **Navigation** | "Which project would you like to work on?" |

#### Capability Types

| Type | Purpose | Location | Format |
|------|---------|----------|--------|
| **Agent** | Methodology, judgment | `.claude/agents/*.md` | Frontmatter + system prompt |
| **Skill** | Implementation, workflow | `.claude/skills/*/SKILL.md` | Frontmatter + instructions |

#### Workflows

**List Capabilities**:
1. Read `~/cami-workspace/config.json` for sources
2. For each source, scan for agents and skills
3. Display: name, version, type, description, source

**Deploy Capabilities**:
1. User requests capabilities by name
2. Find in sources (priority order)
3. For agents: copy to `<project>/.claude/agents/`
4. For skills: copy directory to `<project>/.claude/skills/`
5. Update manifest (track source, version, hash)
6. Update project's CLAUDE.md with capability table

**Scan Capabilities**:
1. Read `.claude/agents/` and `.claude/skills/`
2. Compare with source versions
3. Report: up-to-date, update-available, not-in-sources, custom-override

**Import Capabilities**:
1. Scan external project's `.claude/agents/` and `.claude/skills/`
2. Let user select which to import
3. Copy to specified source
4. Handle conflicts

**Discover Projects**:
1. Scan directory tree for `.claude/` directories
2. Report projects with capabilities
3. Offer batch operations

#### Voice Notes
- Use "roster" when referring to deployed agents
- Use "available lineup" for agents in sources
- "Adding [agent] to your roster" not "Copying file"
- "Checking your roster for updates" not "Scanning files"

#### Handoffs
| Condition | Handoff To | Transition |
|-----------|------------|------------|
| User wants to add a source | manage-sources | "Looks like you want to add a source. Let me help with that." |
| Agent doesn't exist | create-agent | "I don't see that agent in your sources. Want me to help create it?" |

#### Acceptance Criteria

- [ ] SKILL.md with voice preamble
- [ ] Location-aware behavior (all 4 modes)
- [ ] List capabilities (agents + skills)
- [ ] Deploy capabilities with manifest tracking
- [ ] Scan capabilities with version comparison
- [ ] Import from external projects
- [ ] Discover projects
- [ ] Location management
- [ ] Handoffs to other skills
- [ ] Uses scout voice consistently
- [ ] Tested with `claude --plugin-dir`

---

### Issue #4: Create manage-sources skill

**Labels**: `skill`, `priority:high`
**State**: Open

#### Description

Create the manage-sources skill for adding, updating, and managing capability sources.

#### Skill Structure

```
skills/manage-sources/
├── SKILL.md
└── references/
    └── official-guilds.md
```

#### Preamble (Required)

```markdown
## Voice
Read and embody: `reference/voice/scout-persona.md`

## Location Awareness
Apply: `reference/voice/location-protocol.md`
```

#### Frontmatter

```yaml
---
name: manage-sources
description: Add and manage capability sources (guilds). Use for "add source", "add fullstack-guild", "update sources", "list sources".
---
```

#### Triggers
- "add source [url]"
- "add the fullstack-guild" (official guild shorthand)
- "update sources" / "update my sources"
- "list sources"
- "source status" / "check source status"
- "check source compliance"
- "reconcile sources"

#### Location-Specific Behavior

| Location | Behavior |
|----------|----------|
| **Workspace** | Full functionality: add, update, list, reconcile |
| **Project** | Can still manage sources, but ask: "Want to manage sources? You're in [project]." |
| **Initialization** | Suggest going to workspace for source management |
| **Navigation** | Guide to workspace |

#### Workflows

**Add Source (Git)**:
1. Parse URL or resolve official guild name
2. Determine source name from repo name
3. `git clone <url> ~/cami-workspace/sources/<name>`
4. Check compliance (scan for agents/skills, verify frontmatter)
5. Edit config.json to add source entry
6. Set default priority (50 for git sources)

**Update Sources**:
1. Read config.json for sources with git enabled
2. For each: `git pull`
3. Check compliance after update
4. Report: updated (N commits), already up-to-date, error, compliance issues

**List Sources**:
1. Read config.json
2. For each source: count agents/skills, check compliance, check git status
3. Display: name, path, priority, capability counts, compliance, git status

**Source Status**:
1. For each source with git: check status
2. Report: clean, modified, ahead/behind, compliance status

**Check Compliance**:
For each source, verify:
- Agents have required frontmatter (name, version, description)
- Skills have required frontmatter (name, description)
- Offer to auto-fix common issues

**Reconcile Sources**:
1. Compare config.json with filesystem
2. Report discrepancies (missing directories, untracked sources)
3. Offer corrective actions

#### Voice Notes
- Use "guild" for official Lando Labs sources
- Use "source" for any capability repository
- "Your sources" = their configured capability libraries
- Treat sources like "farm teams" - where you scout for talent

#### Handoffs
| Condition | Handoff To | Transition |
|-----------|------------|------------|
| User wants to deploy after adding | manage-capabilities | "Source added. Want me to show what's available to deploy?" |
| User wants to create agent in source | create-agent | "Nice - want to create a custom agent in this source?" |

#### Official Guilds Reference

| Guild | URL | Focus |
|-------|-----|-------|
| fullstack-guild | https://github.com/lando-labs/fullstack-guild.git | MERN stack |
| content-guild | https://github.com/lando-labs/content-guild.git | Writing/marketing |
| game-dev-guild | https://github.com/lando-labs/game-dev-guild.git | Phaser 3 |

#### Acceptance Criteria

- [ ] SKILL.md with voice preamble
- [ ] Location-aware behavior (all 4 modes)
- [ ] Add source with auto-compliance check
- [ ] Update sources with compliance check
- [ ] List sources with compliance status
- [ ] Source status workflow
- [ ] Compliance checking built-in
- [ ] Auto-fix for common compliance issues
- [ ] Reconcile sources workflow
- [ ] Handoffs to other skills
- [ ] Uses scout voice consistently
- [ ] Tested with `claude --plugin-dir`

---

## Post-Sprint

> Fill in after sprint completion

### Completed
<!-- Date completed -->

### Issues Resolved
<!-- Check off completed issues -->

### Actual Version
<!-- Did we hit v1.0.0-beta.1? -->

### Lessons Learned
<!-- What went well? What was harder than expected? -->

### Spawned Work
<!-- Any new issues created during this sprint? -->
