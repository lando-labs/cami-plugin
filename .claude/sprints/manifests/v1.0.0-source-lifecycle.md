# Sprint Manifest: Source Lifecycle

> Generated: 2026-02-27
> Status: **Active**
> Started: 2026-02-27

## Overview

- **Branch**: sprint/v1.0.0-source-lifecycle
- **Target Version**: v1.0.0-rc.6 → v1.0.0 (MINOR)
- **Focus Area**: Source Management Features
- **Estimated Scope**: Medium (1 session)

## Issues Addressed

### Must Complete
- [ ] #36: Add source lifecycle management (create, git init, publish)

### Nice to Have
- None

## Acceptance Criteria

- [ ] Can create new local source directories
- [ ] Can initialize any source as a git repo
- [ ] Can connect source to GitHub (new or existing repo)
- [ ] Can push changes to remote
- [ ] Config tracks git status per source
- [ ] Works with the "roster" mental model (fullstack-guild, data-ml-guild, etc.)

## Dependencies

- Sprint 1 complete (config format stable) ✓

## Parallel Work Considerations

### Sprint Scope (Files to Modify)
- `skills/manage-sources/SKILL.md` (major update)
- `reference/sources/` (new patterns - if needed)

### Protected Areas
- Config schema is stable - don't change config.yaml format
- Manifest schema is stable - don't change cami-manifest.yaml format

## Git Workflow

- **Branch from**: main
- **Branch name**: sprint/v1.0.0-source-lifecycle
- **Commit prefix**: [sources]
- **PR template**: Standard

## Rollback Plan

- Each workflow addition has atomic commits
- Can revert individual workflows if needed
- Full rollback: git revert to v1.0.0-rc.6

---

## Full Issue Details

> Hydrated on: 2026-02-27
> Source: GitHub Issues (lando-labs/cami-plugin)

---

### Issue #36: Add source lifecycle management (create, git init, publish)

**Labels**: None
**Assignee**: None
**State**: Open

#### Summary

CAMI lacks workflows for managing the full lifecycle of sources. Users can create agents but can't organize them into separate sources or share them with teams.

#### The Problem

**Scenario that fails:**
1. User asks for a fullstack roster, wants it reusable → Works, saves to `my-agents`
2. User asks for a data/ml roster, also reusable → **Fails** - no way to create separate source
3. User wants to share each roster with different teams via git → **Fails completely** - no git init/push workflow

#### Missing Capabilities

| Capability | Current State |
|------------|---------------|
| Create new local source directory | ❌ Not implemented |
| Initialize source as git repo | ❌ Not implemented |
| Connect source to GitHub remote | ❌ Not implemented |
| Push/sync source changes | ❌ Explicitly excluded ("read-only operations") |

#### Proposed Workflows

**1. Create Local Source**
```
User: "Create a new source called data-ml-guild"

CAMI: "Creating data-ml-guild source...
  Created ~/cami-workspace/sources/data-ml-guild/
  Added to config.json

Ready to add agents to this source."
```

**2. Initialize Source as Git Repo**
```
User: "Make data-ml-guild a git repo"

CAMI: "Initializing git in data-ml-guild...
  git init ✓
  Created .gitignore ✓
  Initial commit ✓

Want to connect this to a GitHub repo?"
```

**3. Connect to GitHub Remote**
```
User: "Yes, push it to GitHub"

CAMI: "I'll help you set that up.

Options:
1. Create new repo on GitHub (gh repo create)
2. Connect to existing repo (git remote add)

Which would you prefer?"
```

**4. Sync Source to Remote**
```
User: "Push my changes"

CAMI: "Pushing data-ml-guild to origin...
  2 agents added since last push
  git push ✓

Your team can now pull the latest."
```

#### Implementation

Update `skills/manage-sources/SKILL.md` to add:
- Workflow 6: Create Local Source
- Workflow 7: Initialize Git Repository
- Workflow 8: Connect to Remote
- Workflow 9: Push/Sync Changes

Remove the "read-only operations" restriction.

#### Acceptance Criteria

- [ ] Can create new local source directories
- [ ] Can initialize any source as a git repo
- [ ] Can connect source to GitHub (new or existing repo)
- [ ] Can push changes to remote
- [ ] Config tracks git status per source
- [ ] Works with the "roster" mental model (fullstack-guild, data-ml-guild, etc.)

---

## Implementation Order

**Recommended sequence:**

1. **Create Local Source** - Foundation for all other workflows
2. **Initialize Git Repository** - Enables version control
3. **Connect to Remote** - Enables sharing
4. **Push/Sync Changes** - Completes the lifecycle

This order builds incrementally - each workflow depends on the previous.

## Key Files to Read First

Before implementing, read these to understand current state:
- `skills/manage-sources/SKILL.md` - Current source management workflows
- `reference/config-schema.md` - Config format for sources
